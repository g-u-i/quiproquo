@import '../fonts/Aileron/aileron.css';
@import '../fonts/Savate/stylesheet.css';
@import '_pantoufle.less';

// === Typography

body {
  font-family: 'Aileron', serif;
  font-size: 6pt;
  line-height: 1.1;
}

.book {
  h2 {
    font-family: 'Savate', serif;
    font-size: 8pt;
    font-style: italic;
  }
  h3 {
    font-weight: normal;
  }
}

// === Structure

.page-default {

  .half {
    width: 130mm;
    height: calc(100% ~'+' @gutter);
    overflow: hidden;
    &:first-child {
      float: left;
      writing-mode: vertical-rl; }
    &:last-child {
      float: right;
      writing-mode: sideways-lr; }

    margin-top: -@gutter/2;
  }

}

.book {
  float: left;
  width: calc(50% ~'-' @book-vertical-gutter);
  height: percentage(1/3);
  padding-top: @gutter/2;
  padding-bottom: @gutter/2;
  overflow: hidden;

  figure {
    margin: 0;
    width: ((@sheet-height - @page-margin-top - @page-margin-bottom - 2 * @gutter) / 3 - (@book-img-gutter*2)) / (2560/1920);
    img {
      width: (@sheet-height - @page-margin-top - @page-margin-bottom - 2 * @gutter) / 3 - (@book-img-gutter*2);
      height: auto;
    }
  }

  h2, h3, p {
    margin: 0;
  }

  .text {
    height: 100%;
    column-count: 2;
    column-gap: @book-vertical-gutter;
  }

  .half:first-child & {
    margin-right: @book-vertical-gutter;
    figure {
      margin-left: @book-vertical-gutter / 2; }
    img {
      margin-top: @book-img-gutter;
      transform-origin: top right;
      transform: rotate(90deg) translateX(100%);
    }
    h2 {
      margin-left: 1em;
    }
  }
  .half:last-child & {
    margin-left: @book-vertical-gutter;
    figure {
      margin-right: @book-vertical-gutter / 2; }
    img {
      margin-bottom: @book-img-gutter;
      transform-origin: bottom left;
      transform: rotate(-90deg) translateY(100%);
    }
    h2 {
      margin-right: 1em;
    }
  }
}


// === Dev.
@media screen {

  .page-default:first-of-type {

    // background: blue url('../img/catalogue troc-design.jpg') center no-repeat;
    // background-size: @sheet-width @sheet-height;

  }

  .book {
    position: relative;
    &:before {
      content: "";
      display: block;
      position: absolute;
      top: @gutter/2; right: 0; bottom: @gutter/2; left: 0;
      box-shadow: 0 0 0 1px cyan inset;
      pointer-events: none;
    }
  }

}
